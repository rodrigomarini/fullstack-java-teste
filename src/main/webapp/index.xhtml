<html xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
 
 <head>
  <title>Desafio Lemontech - Consulta de solicitações de viagens</title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
 </head>
 
 <h:body>
	<div class="container">
		<h2>Consulta de solicitações de viagens</h2>
		<p>Os dados abaixo carregados serão persistidos no banco de dados sob demanda</p>
		<h:dataTable value="#{consultaBean.viagens}" var="viagem" styleClass="table">
			<h:column>
				<f:facet name="header" styleClass="success">Solicitação</f:facet>
				#{viagem.idSolicitacao}
			</h:column>
			<h:column>
				<f:facet name="header">Passageiro</f:facet>
				#{viagem.nomePassageiro}
			</h:column>
			<h:column>
				<f:facet name="header">Cia. Aérea</f:facet>
				#{viagem.ciaAerea}
			</h:column>
			<h:column>
				<f:facet name="header">Horário Saída</f:facet>
				<h:outputText value="#{viagem.saida}">
					<f:convertDateTime timeZone="America/Sao_Paulo" pattern="dd/MM/yyyy HH:mm" />
				</h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Horário Chegada</f:facet>
				<h:outputText value="#{viagem.chegada}">
  					<f:convertDateTime timeZone="America/Sao_Paulo" pattern="dd/MM/yyyy HH:mm" />
				</h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Origem</f:facet>
				#{viagem.cidadeOrigem}
			</h:column>
			<h:column>
				<f:facet name="header">Destino</f:facet>
				#{viagem.cidadeDestino}
			</h:column>
			<h:column>
				<f:facet name="header">Status WS</f:facet>
				#{viagem.statusConsultaWS}
			</h:column>
		</h:dataTable>
		<div>
			<h:form>
				<h:inputHidden value="#{consultaBean.row}" />
				<h:commandButton value="Anterior" action="#{consultaBean.pagePrevious}" styleClass="btn btn-success"/>
				<h:commandButton value="Próxima" action="#{consultaBean.pageNext}" styleClass="btn btn-success"/>
			</h:form>
		</div>
	</div>
 </h:body>
</html>